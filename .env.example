# =============================================================================
# ODIS AI - Environment Variables Template
# =============================================================================
# Copy this file to .env.local and fill in your actual values:
#   cp .env.example .env.local
#
# This single root .env.local is used by ALL apps in the monorepo:
#   - apps/web (Next.js dashboard on Vercel)
#   - apps/pims-sync (IDEXX sync service on Railway)
#
# Legend:
#   [REQUIRED] - App will fail to build without this
#   [OPTIONAL] - Feature-specific, app works without it
# =============================================================================


# =============================================================================
# SUPABASE [REQUIRED]
# =============================================================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api

# Server-side (used by pims-sync and API routes)
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# Client-side (used by web app)
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"


# =============================================================================
# CLERK (Authentication) [REQUIRED]
# =============================================================================
# Get these from: https://dashboard.clerk.com

NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_..."
CLERK_SECRET_KEY="sk_test_..."
CLERK_WEBHOOK_SECRET="whsec_..."

# Auth redirect URLs (defaults shown, customize if needed)
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL="/dashboard"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL="/onboarding"


# =============================================================================
# ANTHROPIC (Claude API) [REQUIRED]
# =============================================================================
# Get this from: https://console.anthropic.com/settings/keys

ANTHROPIC_API_KEY="sk-ant-api03-..."


# =============================================================================
# VAPI (Voice AI Platform) [REQUIRED for voice features]
# =============================================================================
# Get these from: https://dashboard.vapi.ai

# Private key for server-side API calls
VAPI_PRIVATE_KEY="sk_..."

# Assistant IDs
VAPI_ASSISTANT_ID="..."
VAPI_DEFAULT_INBOUND_ASSISTANT_ID="..."

# Phone number for outbound calls
VAPI_PHONE_NUMBER_ID="..."

# Webhook verification
VAPI_WEBHOOK_SECRET="..."

# Public key for client-side SDK (safe to expose)
NEXT_PUBLIC_VAPI_PUBLIC_KEY="pk_..."


# =============================================================================
# QSTASH (Upstash Message Queue) [REQUIRED]
# =============================================================================
# Get these from: https://console.upstash.com/qstash

QSTASH_TOKEN="..."
QSTASH_CURRENT_SIGNING_KEY="sig_..."
QSTASH_NEXT_SIGNING_KEY="sig_..."
QSTASH_URL="https://qstash.upstash.io"


# =============================================================================
# IDEXX INTEGRATION [REQUIRED]
# =============================================================================
# Generate a secure 32+ character key for AES-256 encryption
# Used by @odis-ai/shared/crypto for encrypting/decrypting clinic credentials

IDEXX_ENCRYPTION_KEY="your-32-character-minimum-key-here"

# URL for the IDEXX sync service (Railway deployment)
IDEXX_SYNC_SERVICE_URL="https://your-pims-sync.up.railway.app"


# =============================================================================
# PIMS SYNC SERVICE [OPTIONAL - for external sync service]
# =============================================================================
# Only needed if running pims-sync as a separate service

PIMS_SYNC_URL="https://pims-sync-production.up.railway.app"
NEXT_PUBLIC_PIMS_SYNC_URL="https://pims-sync-production.up.railway.app"
PIMS_SYNC_API_KEY="pk_..."


# =============================================================================
# RESEND (Email Service) [REQUIRED]
# =============================================================================
# Get this from: https://resend.com/api-keys

RESEND_API_KEY="re_..."


# =============================================================================
# SLACK NOTIFICATIONS [OPTIONAL]
# =============================================================================
# Get these from: https://api.slack.com/apps

SLACK_BOT_TOKEN="xoxb-..."
SLACK_SIGNING_SECRET="..."
SLACK_CHANNEL_ID="C..."


# =============================================================================
# STRIPE (Payments - Payment Links) [OPTIONAL]
# =============================================================================
# Create payment links in Stripe Dashboard: https://dashboard.stripe.com/payment-links
# No API keys needed - users pay via links, you update DB manually/via webhooks

NEXT_PUBLIC_STRIPE_LINK_INBOUND="https://buy.stripe.com/..."
NEXT_PUBLIC_STRIPE_LINK_PROFESSIONAL="https://buy.stripe.com/..."
NEXT_PUBLIC_STRIPE_LINK_ENTERPRISE="https://buy.stripe.com/..."
NEXT_PUBLIC_STRIPE_BILLING_PORTAL_URL="https://billing.stripe.com/p/login/..."


# =============================================================================
# SANITY CMS [OPTIONAL - for blog/content]
# =============================================================================
# Get these from: https://www.sanity.io/manage

NEXT_PUBLIC_SANITY_PROJECT_ID="..."
NEXT_PUBLIC_SANITY_DATASET="production"
SANITY_API_TOKEN="sk..."


# =============================================================================
# POSTHOG (Analytics) [REQUIRED]
# =============================================================================
# Get these from: https://app.posthog.com/project/settings

# Client-side (safe to expose)
NEXT_PUBLIC_POSTHOG_KEY="phc_..."
NEXT_PUBLIC_POSTHOG_HOST="https://us.i.posthog.com"

# Server-side (for server-side tracking)
POSTHOG_PROJECT_API_KEY="phc_..."
POSTHOG_PERSONAL_API_KEY="phx_..."


# =============================================================================
# SENTRY (Error Tracking) [OPTIONAL but recommended]
# =============================================================================
# Get these from: https://sentry.io/settings/

SENTRY_AUTH_TOKEN="sntrys_..."
NEXT_PUBLIC_SENTRY_DSN="https://...@....ingest.us.sentry.io/..."
NEXT_PUBLIC_SENTRY_ENVIRONMENT="development"


# =============================================================================
# SITE CONFIGURATION
# =============================================================================

NEXT_PUBLIC_SITE_URL="https://odisai.net"


# =============================================================================
# DEVELOPMENT OPTIONS
# =============================================================================

# Node environment
NODE_ENV="development"

# Run Playwright headless (set to "false" to see browser during scraping)
HEADLESS="true"

# Port for local development / pims-sync service
PORT="3000"

# Skip QStash webhook verification in development
SKIP_QSTASH_VERIFY="false"

# Slow down Playwright automation (ms delay between actions, useful for debugging)
PLAYWRIGHT_SLOW_MO="0"


# =============================================================================
# SYSTEM (Auto-generated - DO NOT SET MANUALLY)
# =============================================================================
# VERCEL_OIDC_TOKEN - Automatically provided by Vercel
# VERCEL_ENV - Automatically set by Vercel (production/preview/development)
